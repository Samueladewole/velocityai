# üöÄ Velocity AI Platform - Production Environment Variables Template
# Copy this file to .env.production and configure with your actual values
# NEVER commit actual secrets to version control

# =====================================
# üéØ FRONTEND CONFIGURATION
# =====================================

# API Endpoints
REACT_APP_API_BASE_URL=https://api.velocity.eripapp.com
REACT_APP_WS_URL=wss://ws.velocity.eripapp.com

# Environment
REACT_APP_ENVIRONMENT=production
REACT_APP_VERSION=1.0.0

# Analytics & Monitoring (Frontend)
REACT_APP_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
REACT_APP_GA_TRACKING_ID=GA-XXXXXXXXX-X
REACT_APP_POSTHOG_KEY=phc_your_posthog_key
REACT_APP_POSTHOG_HOST=https://app.posthog.com

# Feature Flags
REACT_APP_ENABLE_ANALYTICS=true
REACT_APP_ENABLE_REAL_TIME=true
REACT_APP_ENABLE_WEBSOCKETS=true

# =====================================
# üóÑÔ∏è BACKEND CONFIGURATION
# =====================================

# Database
DATABASE_URL=postgresql://username:password@your-db-host:5432/velocity_production
REDIS_URL=redis://your-redis-host:6379/0

# Security Keys (Generate strong random keys)
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-min-32-chars
ENCRYPTION_KEY=your-encryption-key-for-sensitive-data-32-chars
JWT_REFRESH_SECRET=your-jwt-refresh-secret-key-different-from-main

# =====================================
# ‚òÅÔ∏è AWS SERVICES
# =====================================

# AWS General
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Storage
AWS_S3_BUCKET=velocity-evidence-storage
AWS_S3_REGION=us-east-1

# SES Email Service
AWS_SES_REGION=us-east-1
SES_SMTP_USERNAME=your-ses-smtp-username
SES_SMTP_PASSWORD=your-ses-smtp-password
FROM_EMAIL=noreply@velocity.eripapp.com
REPLY_TO_EMAIL=support@velocity.eripapp.com

# CloudFront CDN
AWS_CLOUDFRONT_DISTRIBUTION_ID=your-cloudfront-distribution-id

# =====================================
# üìß EMAIL CONFIGURATION
# =====================================

# SMTP Settings (Using AWS SES)
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_USERNAME=${SES_SMTP_USERNAME}
SMTP_PASSWORD=${SES_SMTP_PASSWORD}
SMTP_USE_TLS=true
SMTP_USE_SSL=false

# Email Templates
WELCOME_EMAIL_TEMPLATE_ID=d-your-sendgrid-template-id
RESET_PASSWORD_TEMPLATE_ID=d-your-reset-template-id
EVIDENCE_REPORT_TEMPLATE_ID=d-your-report-template-id

# =====================================
# ü§ñ AI SERVICES
# =====================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4000

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4000

# =====================================
# üîê SECURITY CONFIGURATION
# =====================================

# CORS & Security
CORS_ORIGINS=https://velocity.eripapp.com,https://app.velocity.eripapp.com
ALLOWED_HOSTS=velocity.eripapp.com,api.velocity.eripapp.com,ws.velocity.eripapp.com
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# Session Security
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Strict

# =====================================
# üìä MONITORING & ANALYTICS
# =====================================

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# New Relic APM
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Velocity-AI-Platform

# Datadog
DATADOG_API_KEY=your-datadog-api-key
DATADOG_SERVICE_NAME=velocity-platform

# Custom Metrics
ENABLE_METRICS=true
METRICS_ENDPOINT=/metrics
HEALTH_CHECK_ENDPOINT=/health

# =====================================
# üöÄ FEATURE FLAGS
# =====================================

# WebSocket Features
ENABLE_WEBSOCKETS=true
ENABLE_REAL_TIME_MONITORING=true
WEBSOCKET_HEARTBEAT_INTERVAL=30000

# Advanced Features
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_MULTI_TENANT=true
ENABLE_AUDIT_LOGGING=true
ENABLE_CACHE=true

# AI Features
ENABLE_AI_AGENTS=true
ENABLE_TRUST_SCORE_ENGINE=true
ENABLE_EVIDENCE_AUTOMATION=true

# =====================================
# ‚ö° PERFORMANCE CONFIGURATION
# =====================================

# Server Configuration
MAX_WORKERS=4
WORKER_TIMEOUT=120
WORKER_CLASS=uvicorn.workers.UvicornWorker
KEEP_ALIVE=2

# Request Limits
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50
MAX_REQUEST_SIZE=50MB
REQUEST_TIMEOUT=30

# Database Connections
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=300

# Caching
REDIS_MAX_CONNECTIONS=20
CACHE_TTL=3600
CACHE_PREFIX=velocity:

# =====================================
# üîç LOGGING CONFIGURATION
# =====================================

# Log Levels
LOG_LEVEL=info
ROOT_LOG_LEVEL=warning
SQL_LOG_LEVEL=warning

# Log Output
LOG_FILE=/var/log/velocity/app.log
ERROR_LOG_FILE=/var/log/velocity/error.log
ACCESS_LOG_FILE=/var/log/velocity/access.log

# Structured Logging
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_REQUEST_ID=true

# =====================================
# üåê CLOUD PLATFORM INTEGRATIONS
# =====================================

# Google Cloud Platform
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Microsoft Azure
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id

# GitHub Integration
GITHUB_CLIENT_ID=your-github-oauth-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-client-secret
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# =====================================
# üè¢ MULTI-TENANT CONFIGURATION
# =====================================

# Tenant Isolation
ENABLE_TENANT_ISOLATION=true
DEFAULT_TENANT_PLAN=starter
MAX_TENANTS_PER_INSTANCE=1000

# Tenant Limits
TENANT_MAX_USERS=unlimited
TENANT_MAX_AGENTS=13
TENANT_MAX_EVIDENCE_ITEMS=10000
TENANT_MAX_API_CALLS=unlimited

# =====================================
# üîÑ BACKUP & DISASTER RECOVERY
# =====================================

# Database Backups
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=velocity-backups

# File Storage Backups
ENABLE_FILE_BACKUP=true
FILE_BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM

# =====================================
# üß™ TESTING & DEBUG (Production)
# =====================================

# Health Checks
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_INTERVAL=60
ENABLE_DETAILED_HEALTH_CHECKS=true

# Performance Monitoring
ENABLE_QUERY_ANALYSIS=true
SLOW_QUERY_THRESHOLD=1000  # milliseconds
ENABLE_PERFORMANCE_LOGGING=true

# =====================================
# üìà BUSINESS METRICS
# =====================================

# Usage Tracking
TRACK_USER_ACTIVITY=true
TRACK_API_USAGE=true
TRACK_AGENT_PERFORMANCE=true

# Business Intelligence
ENABLE_BI_EXPORTS=true
BI_EXPORT_SCHEDULE="0 4 * * *"  # Daily at 4 AM
BI_S3_BUCKET=velocity-analytics

# =====================================
# üîß MAINTENANCE MODE
# =====================================

# Maintenance Settings
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System temporarily unavailable for maintenance"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,your-office-ip

# =====================================
# üìù NOTES FOR DEPLOYMENT
# =====================================

# 1. Generate strong random keys for JWT_SECRET_KEY and ENCRYPTION_KEY
# 2. Use AWS Parameter Store or similar for sensitive values in production
# 3. Configure proper DNS for velocity.eripapp.com subdomains
# 4. Set up SSL certificates for all domains
# 5. Configure firewall rules and security groups
# 6. Set up monitoring and alerting
# 7. Configure automated backups
# 8. Test disaster recovery procedures
# 9. Set up log aggregation and analysis
# 10. Configure auto-scaling policies

# =====================================
# üö® SECURITY CHECKLIST
# =====================================

# ‚úÖ All secrets stored securely (not in code)
# ‚úÖ Strong encryption keys (32+ characters)
# ‚úÖ HTTPS enforced for all connections
# ‚úÖ CORS properly configured
# ‚úÖ Rate limiting enabled
# ‚úÖ Security headers configured
# ‚úÖ Database connections encrypted
# ‚úÖ Regular security audits scheduled
# ‚úÖ Monitoring and alerting configured
# ‚úÖ Backup and recovery tested